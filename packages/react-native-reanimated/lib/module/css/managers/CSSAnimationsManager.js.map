{"version":3,"names":["CSSKeyframesRuleImpl","applyCSSAnimations","createSingleCSSAnimationProperties","getAnimationSettingsUpdates","normalizeSingleCSSAnimationSettings","unregisterCSSAnimations","CSSKeyframesRegistry","CSSAnimationsManager","animationKeyframesRegistry","attachedAnimations","constructor","shadowNodeWrapper","viewTag","update","animationProperties","detach","processedAnimations","processAnimations","registerKeyframesUsage","animationUpdates","getAnimationUpdates","animationNames","length","unmountCleanup","unregisterKeyframesUsage","newAnimationNames","Set","forEach","keyframesRule","add","name","has","remove","singleAnimationPropertiesArray","map","properties","i","keyframes","animationName","cssText","JSON","stringify","normalizedSettings","buildAnimationsMap","animations","reduceRight","acc","animation","push","newAnimationSettings","settingsUpdates","animationsArrayChanged","hasNewAnimations","hasSettingsUpdates","oldAnimations","oldAnimation","pop","updates","Object","keys","result"],"sourceRoot":"../../../../src","sources":["css/managers/CSSAnimationsManager.ts"],"mappings":"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","ignoreList":[]}
