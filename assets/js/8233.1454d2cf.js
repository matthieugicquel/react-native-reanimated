"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[8233],{17069:(e,t,n)=>{n.d(t,{A:()=>p});var s="DELAY",i="ERROR",o="LONG_PRESS_DETECTED",r="NOT_RESPONDER",a="RESPONDER_ACTIVE_LONG_PRESS_START",l="RESPONDER_ACTIVE_PRESS_START",u="RESPONDER_INACTIVE_PRESS_START",E="RESPONDER_RELEASE",_="RESPONDER_TERMINATED",c=Object.freeze({NOT_RESPONDER:{DELAY:i,RESPONDER_GRANT:u,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i},RESPONDER_INACTIVE_PRESS_START:{DELAY:l,RESPONDER_GRANT:i,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:i},RESPONDER_ACTIVE_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:a},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:a},ERROR:{DELAY:r,RESPONDER_GRANT:u,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:r}}),h=e=>e===l||e===a,R=e=>"button"===e.getAttribute("role"),T=e=>e===u||e===l||e===a,P=e=>{var t=e.key,n=e.target.getAttribute("role");return"Enter"===t||(" "===t||"Spacebar"===t)&&"button"===n};class S{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=r,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=r,this._isPointerTouch="touchstart"===e.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",e);var n=D(this._config.delayPressStart,0,50);!1!==t&&n>0?this._pressDelayTimeout=setTimeout((()=>{this._receiveSignal(s,e)}),n):this._receiveSignal(s,e);var i=D(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout((()=>{this._handleLongPress(e)}),i+n)},t=e=>{this._receiveSignal(E,e)},n=e=>{var s=this._config.onPress,i=e.target;if(this._touchState!==r&&P(e)){t(e),document.removeEventListener("keyup",n);var o=i.getAttribute("role"),a=i.tagName.toLowerCase();null==s||("link"===o||"a"===a||"button"===a||"input"===a||"select"===a||"textarea"===a)||s(e)}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&R(e.currentTarget)&&e.stopPropagation(),null==t||!t},onKeyDown:t=>{var s=this._config.disabled,i=t.key,o=t.target;if(!s&&P(t)){this._touchState===r&&(e(t,!1),document.addEventListener("keyup",n));var a=o.getAttribute("role");(" "===i||"Spacebar"===i)&&("button"===a||"menuitem"===a)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>e(t),onResponderMove:e=>{null!=this._config.onPressMove&&this._config.onPressMove(e);var t=g(e);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-t.pageX,s=this._touchActivatePosition.pageY-t.pageY;Math.hypot(n,s)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>t(e),onResponderTerminate:e=>{"selectionchange"===e.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(_,e)},onResponderTerminationRequest:e=>{var t=this._config,n=t.cancelable,s=t.disabled,i=t.onLongPress;return!(!s&&null!=i&&this._isPointerTouch&&"contextmenu"===e.nativeEvent.type)&&(null==n||n)},onClick:e=>{var t=this._config,n=t.disabled,s=t.onPress;n?R(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():null!=s&&!1===e.altKey&&s(e))},onContextMenu:e=>{var t=this._config,n=t.disabled,s=t.onLongPress;n?R(e.currentTarget)&&e.stopPropagation():null!=s&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(e,t){var n=this._touchState,s=null;null!=c[n]&&(s=c[n][e]),this._touchState===r&&e===E||(null==s||s===i?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==s&&(this._performTransitionSideEffects(n,s,e,t),this._touchState=s))}_performTransitionSideEffects(e,t,n,s){if((e=>e===_||e===E)(n)&&(setTimeout((()=>{this._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),T(e)&&n===o){var i=this._config.onLongPress;null!=i&&null==s.nativeEvent.key&&(i(s),this._longPressDispatched=!0)}var r=h(e),l=h(t);if(!r&&l?this._activate(s):r&&!l&&this._deactivate(s),T(e)&&n===E){var u=this._config,c=u.onLongPress;if(null!=u.onPress)null!=c&&e===a||l||r||(this._activate(s),this._deactivate(s))}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,n=t.onPressChange,s=t.onPressStart,i=g(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=s&&s(e),null!=n&&n(!0)}_deactivate(e){var t=this._config,n=t.onPressChange,s=t.onPressEnd;function i(){null!=s&&s(e),null!=n&&n(!1)}var o=D(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((()=>{i()}),o):i()}_handleLongPress(e){this._touchState!==l&&this._touchState!==a||this._receiveSignal(o,e)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function D(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!=e?e:n)}function g(e){var t=e.nativeEvent,n=t.changedTouches,s=t.touches;return null!=s&&s.length>0?s[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var v=n(96540);function p(e,t){var n=(0,v.useRef)(null);null==n.current&&(n.current=new S(t));var s=n.current;return(0,v.useEffect)((()=>{s.configure(t)}),[t,s]),(0,v.useEffect)((()=>()=>{s.reset()}),[s]),(0,v.useDebugValue)(t),s.getEventHandlers()}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(96540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);